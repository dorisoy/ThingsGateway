---
id: 301
title: MqttClient
---


import useBaseUrl from "@docusaurus/useBaseUrl";
import Tag from "@site/src/components/Tag.js";
import Highlight from '@site/src/components/Highlight.js';


## 一、说明

ModbusSlave作为从站，响应主站的采集报文

插件支持modbusTcp/modbusRtu格式报文

通讯链路支持 TcpClient/TcpService(DTU)/串口/Udp

## 二、插件属性配置项

<img src={require("@site/static/img/docs/MqttClient.png").default} />

| 属性           |  说明                    | 备注|
| ---------------| --------------------------| ---|
| IP         | ServerIP,为空时指任意IP              | |
| 端口         | 连接端口              | 1883|
| 连接ID         | 连接ID             | ThingsGatewayId |
| 允许Rpc写入         | 是否允许写入变量              | True |
| 线程循环间隔         | 上传线程的循环间隔,一般不需要更改(ms)              | 1000 |
| 列表分割大小         | 发布的实体列表按大小分割              | 1000 |
| 数据请求RpcTopic         | 该主题接受到任何消息都会发布全部信息到对应的设备/变量主题中              | ThingsGateway/Quest |
| Rpc写入Topic         | 写入变量的发布Topic              | ThingsGateway/RpcWrite |
| Rpc返回Topic         | 写入变量的订阅Topic，返回写入结果信息              | ThingsGateway/RpcSub |
| 变量Topic         | 变量信息订阅Topic              | ThingsGateway/Variable |
| 设备Topic         | 设备信息订阅Topic              | ThingsGateway/Device |


## 三、变量业务属性

### 1、从站地址

- 1、基本地址

Modbus PLC寄存器

| 地址           | 功能码         |  说明                    |
| ---------------| --------------|--------------------------|
| 4xxxxx         | 03            | 读取03功能码              |
| 3xxxxx         | 04            | 读取04功能码              |
| 1xxxxx         | 02            | 读取02功能码              |
| 0xxxxx         | 01            | 读取01功能码              |

- 2、站号(可选)

  当需要指定站号地址时可使用，举例：

| 地址           |   说明                    |
| ---------------| --------------------------|
| s=2;10001         |  读取02功能码 ,设备地址为2      |
| s=11;40001         |  读取03功能码 ,设备地址为11        |

